RewriteEngine On

# ----------------------------------------------------
# 1. Redirect /index or /index.html to folder root
# ----------------------------------------------------
RewriteCond %{THE_REQUEST} \s/+(.*/)?index(\.html)?[\s?]
RewriteRule ^ %1 [R=301,L]

# ----------------------------------------------------
# 2. Redirect .html URLs to clean URLs
# ----------------------------------------------------
RewriteCond %{THE_REQUEST} \s/+(.+?)\.html[\s?]
RewriteRule ^ %1 [R=301,L]

# ----------------------------------------------------
# 3. Allow existing files & directories
# ----------------------------------------------------
RewriteCond %{REQUEST_FILENAME} -f [OR]
RewriteCond %{REQUEST_FILENAME} -d
RewriteRule ^ - [L]

# ----------------------------------------------------
# 4. Serve .html files without extension
# ----------------------------------------------------
RewriteCond %{REQUEST_FILENAME}.html -f
RewriteRule ^(.+)$ $1.html [L]

# ----------------------------------------------------
# 5. WordPress rules (LAST)
# ----------------------------------------------------
<IfModule mod_rewrite.c>
RewriteEngine On
RewriteBase /
RewriteRule ^index\.php$ - [L]
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule . /index.php [L]
</IfModule>
